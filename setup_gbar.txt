# clone our directory and change to it
git clone https://github.com/albertkjoller/explainableVQA
cd explainableVQA

# load python 3.7.x from the GBAR server
module load python3/3.7.11

# create virtual environment and activate it
python3.7 -m venv vqa
source vqa/bin/activate

# change to mmf directory and install dependencies
cd mmf
python3 -m pip install --editable .

# install additional dependencies
python3 -m pip install pytest transformers future tensorboard

# test if everything is good
pytest ./tests/


# for running a script create a shell-file for submission and run it, e.g.:
bsub < predict_demo.sh


# if using pretrained models, download them from link in project readme and place them in the folder explainableVQA/mmf/save/models/...

# for training run:
cd mmf
mmf_run config="configs/experiments/model_name/defaults.yaml \
    model=model_name \
    dataset=okvqa \
	run_type=train_val

# or in one line
mmf_run config="configs/experiments/model_name/defaults.yaml model=model_name dataset=okvqa run_type=train_val
